---
permalink: config-admin/creating-device-resolution-rules.html 
sidebar: sidebar 
keywords:  
summary: 您可以创建设备解析规则来标识OnCommand Insight 当前未自动标识的主机、存储和磁带。您创建的规则用于标识当前环境中的设备，并在将类似设备添加到环境中时标识这些设备。 
---
= 创建设备解析规则
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以创建设备解析规则来标识OnCommand Insight 当前未自动标识的主机、存储和磁带。您创建的规则用于标识当前环境中的设备，并在将类似设备添加到环境中时标识这些设备。



== 关于此任务

创建规则时，首先要确定规则所针对的信息源，用于提取信息的方法以及是否对规则结果应用 DNS 查找。

|===


 a| 
用于标识设备的源



 a| 
* 主机的SRM别名
* 包含嵌入式主机或磁带名称的存储别名
* 包含嵌入式主机或磁带名称的交换机别名
* 包含嵌入式主机名的分区名称




 a| 
用于从源提取设备名称的方法



 a| 
* 原样(从SRM提取名称)
* 分隔符
* 正则表达式




 a| 
DNS 查找



 a| 
指定是否使用DNS验证主机名。

|===
您可以在自动解析规则选项卡中创建规则。以下步骤介绍了规则创建过程。



== 步骤

. 单击*管理*>*设备解析*
. 在*自动解析规则*选项卡中、单击*+添加*
+
此时将显示"New Rule"屏幕。

+
[NOTE]
====
"新建规则"屏幕包含一个*？*图标、用于提供有关创建正则表达式的帮助和示例。

====
. 在 * 类型 * 列表中，选择要标识的设备。
+
您可以选择主机或磁带。

. 在 * 源 * 列表中，选择要用于标识主机的源。
+
根据您选择的源、Insight会显示以下响应：

+
** Zones列出了需要由Insight标识的分区和WWN。
** SRM列出了需要由Insight标识的未标识别名
** 存储别名列出了需要由Insight标识的存储别名和WWN
** 交换机别名列出了需要由Insight标识的交换机别名


. 在 * 方法 * 列表中，选择要用于标识主机的方法。
+
|===


| 源 | 方法 


 a| 
SRM
 a| 
"`as is`、"`Delimiters`"、"`正则表达式`"



 a| 
存储别名
 a| 
"`delimiters`"或"`正则表达式`"



 a| 
交换机别名
 a| 
"`delimiters`"或"`正则表达式`"



 a| 
分区
 a| 
"`delimiters`"或"`正则表达式`"

|===
+
** 使用`Delimiters`的规则要求使用分隔符和主机名的最小长度。
+
主机名的最小长度是Insight应用于标识主机的字符数。Insight仅对长度超过此长度的主机名执行DNS查找。

+
对于使用分隔符的规则，输入字符串由分隔符标记，并通过对相邻令牌进行多种组合来创建主机名候选对象列表。然后，该列表将按从大到小的顺序进行排序。例如、对于vpsnq03_hba3_emc3_12ep0、此列表将导致以下结果：

+
*** vpsnq03_hba3_emc3_12ep0
*** vpsnq03_hba3_emc3
*** hba3 emc3_12ep0
*** vpsnq03_hba3
*** emc3_12ep0
*** hba3_emc3.
*** vpsnq03
*** 12ep0
*** emc3.
*** hba3.


** 使用"`正则表达式`"的规则需要选择正则表达式、格式和区分大小写。


. 单击 image:../media/runar.gif[""] 要运行所有规则、或者单击按钮中的向下箭头以运行您创建的规则(以及自上次完全运行AR以来创建的任何其他规则)。




== 结果

规则运行的结果将显示在FC Identify选项卡中。
