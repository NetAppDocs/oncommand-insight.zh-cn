---
sidebar: sidebar 
permalink: task_config_telegraf_elasticsearch.html 
keywords: telegraf, installation, install, ElasticSearch 
summary: Elasticsearch 数据收集器配置 
---
= Elasticsearch Data Collector
:hardbreaks:
:toclevels: 1
:allow-uri-read: 
:toclevels: 1
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Cloud Insights 使用此数据收集器从 Elasticsearch 收集指标。

. 从*Observability > Collectors*中，单击*+Data Collector*。选择ElASCHARSEearch。
+
选择安装了 Telegraf 代理的操作系统或平台。

. 如果您尚未安装要收集的代理，或者您希望为其他操作系统或平台安装代理，请单击 _Show Instructions_展开 link:task_config_telegraf_agent.html["代理安装"] 说明。
. 选择要用于此数据收集器的代理访问密钥。您可以通过单击 * + 代理访问密钥 * 按钮来添加新的代理访问密钥。最佳实践：仅当您要按操作系统 / 平台对数据收集器进行分组时，才使用其他代理访问密钥。
. 按照配置步骤配置数据收集器。这些说明因用于收集数据的操作系统或平台的类型而异。


image:ElasticsearchDCConfigLinux.png["Elasticsearch 配置"]



== 设置

有关信息，请参见 link:https://www.elastic.co/guide/index.html["Elasticsearch 文档"]。



== 对象和计数器

将收集以下对象及其计数器：

[cols="<.<,<.<,<.<,<.<"]
|===
| 对象： | 标识符： | 属性： | 数据点： 


| Elasticsearch 集群 | 命名空间
集群 | 节点IP
节点名称
集群状态 | 主节点计数
节点总数
可用文件系统数据(字节)
文件系统可用数据(字节)
文件系统总数据(字节)
JVM线程
操作系统分配处理器
操作系统可用处理器
操作系统内存可用(字节)
无操作系统内存
操作系统内存总计(字节)
已用操作系统内存(字节)
已使用操作系统内存
进程CPU
索引完成大小(字节)
索引计数
索引文档计数
已删除索引文档
索引现场数据逐出
索引字段数据内存大小(字节)
索引查询缓存计数
索引缓存大小
索引段计数
索引段文档值内存(字节)
索引分页索引优先级平均
索引分页索引优先级最大
指数将指数级优先级最小值划分为
索引分区索引复制平均
索引粉碎索引复制最大
索引将索引复制的最小值
索引碎片平均值
索引碎片最大值
索引将划分为优先级
索引会影响复制
索引与总计碎片
索引存储大小(字节) 


| Elasticsearch 节点 | 命名空间
集群
ES节点ID
ES节点IP
ES节点 | 分区 ID | 已启用机器学习
机器学习内存
机器学习最大打开作业数
已安装X-Pack
Breakers Accounting估计大小(字节)
断路器记帐限制大小(字节)
断路器会计开销
断路器记帐跳闸
断路器字段数据估计大小(字节)
断路器字段数据限制大小(字节)
断路器现场数据开销
断路器字段数据跳闸
断路器传输中估算大小(字节)
断路器传输中限制大小(字节)
飞行中的断路器
断路器在飞行中跳闸
断路器父级估计大小(字节)
断路器父级限制大小(字节)
断路器父级开销
断路器父跳闸
断路器请求估计大小(字节)
断路器请求限制大小(字节)
断路器请求开销
断路器请求已跳闸
可用文件系统数据(字节)
文件系统可用数据(字节)
文件系统总数据(字节)
文件系统IO统计设备操作
文件系统IO统计设备读取(KB)
文件系统IO统计设备读取操作
文件系统IO统计信息设备错误(KB)
文件系统IO统计信息设备写入操作
文件系统IO统计操作总数
文件系统IO统计信息总读取量(KB)
文件系统IO统计信息读取操作
文件系统IO统计信息总写入量(KB)
文件系统IO统计信息写入操作
可用文件系统最小使用量估计值(字节)
文件系统最小使用量估计总计(字节)
文件系统最小使用量磁盘
可用文件系统最大使用量估计值(字节)
文件系统最大使用量估计总计(字节)
文件系统最常用磁盘
可用文件系统总数(字节)
文件系统总可用空间(字节)
文件系统总数(字节)
索引完成大小(字节)
索引文档计数
已删除索引文档
索引现场数据逐出
索引字段数据内存大小(字节)
索引定期刷新
索引刷新总计
索引刷新总时间
索引会保持最新
索引获取存在时间
索引获取存在总数
索引得到总计
索引索引索引编制删除总计
索引索引索引索引索引总数
索引索引索引编制Noop更新总计
索引索引索引编制限制时间
HTTP当前打开
已打开HTTP总数
JVM缓冲池直接计数
当前装入的JVM类计数
JVM GC收集器旧集合计数
JVM内存堆已提交(字节)
操作系统CPU平均负载15m
操作系统CPU
操作系统内存可用(字节)
可用操作系统交换空间(字节)
进程CPU
进程CPU总数
进程最大文件描述符
进程内存总虚拟容量(字节)
线程池分析活动
线程池分析已完成
线程池分析最大
线程池分析队列
已拒绝线程池分析
线程池分析线程
线程池提取磁盘已启动处于活动状态
线程池提取磁盘已启动已完成
线程池提取磁盘开始最大
线程池提取磁盘已启动队列
已拒绝已启动线程池提取磁盘
线程池提取磁盘已启动读取
线程池提取磁盘存储处于活动状态
线程池提取磁盘存储已完成
传输RX (每秒)
传输RX字节(每秒)
传输服务器已打开
传输TX (每秒)
传输TX字节(每秒) 
|===


== 故障排除

可以从找到追加信息 link:concept_requesting_support.html["支持"] 页面。
